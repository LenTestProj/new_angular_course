{"ast":null,"code":"import { AsyncPipe, CommonModule } from '@angular/common';\nimport { signal } from '@angular/core';\nimport { finalize, map, takeUntil, timer } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction OfferPreviewComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\")(2, \"h2\");\n    i0.ɵɵtext(3, \"Special Offer!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Act quick and save your spot for just $99.99!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 2);\n    i0.ɵɵelement(7, \"progress\", 3);\n    i0.ɵɵpipe(8, \"async\");\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"p\")(13, \"a\");\n    i0.ɵɵtext(14, \"View Offer\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"value\", i0.ɵɵpipeBind1(8, 2, ctx_r0.timer));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Offer expires in \", i0.ɵɵpipeBind1(11, 4, ctx_r0.remainingTime), \"s\");\n  }\n}\nfunction OfferPreviewComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 4);\n    i0.ɵɵtext(1, \"Unfortunately, the offer expired!\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst OFFER_TIME = 30;\nexport let OfferPreviewComponent = /*#__PURE__*/(() => {\n  class OfferPreviewComponent {\n    constructor() {\n      this.offerExpired = signal(false);\n      this.timer = timer(0, 1000).pipe(map(val => {\n        if (!val) {\n          return 100;\n        }\n        return (OFFER_TIME - val) / OFFER_TIME * 100;\n      }), takeUntil(timer((OFFER_TIME + 1) * 1000)), finalize(() => {\n        this.offerExpired.set(true);\n      }));\n      this.remainingTime = this.timer.pipe(map(val => Math.round(val / 100 * OFFER_TIME)));\n    }\n    static #_ = this.ɵfac = function OfferPreviewComponent_Factory(t) {\n      return new (t || OfferPreviewComponent)();\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: OfferPreviewComponent,\n      selectors: [[\"app-offer-preview\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 4,\n      vars: 2,\n      consts: [[4, \"ngIf\", \"ngIfElse\"], [\"expired\", \"\"], [1, \"offer-progress\"], [\"max\", \"100\", 3, \"value\"], [1, \"expired\"]],\n      template: function OfferPreviewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"article\");\n          i0.ɵɵtemplate(1, OfferPreviewComponent_div_1_Template, 15, 6, \"div\", 0);\n          i0.ɵɵtemplate(2, OfferPreviewComponent_ng_template_2_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          const _r1 = i0.ɵɵreference(3);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.offerExpired())(\"ngIfElse\", _r1);\n        }\n      },\n      dependencies: [AsyncPipe, CommonModule, i1.NgIf],\n      styles: [\"article[_ngcontent-%COMP%]{max-width:50rem;margin:4rem auto;padding:2rem;background-color:#f3d5f9;color:#322f32;display:flex;justify-content:space-between}h2[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{margin:.25rem 0}.offer-progress[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem;color:#666166}progress[_ngcontent-%COMP%]{width:100%;height:1rem;margin:0;border-radius:4px;background:#e5c2eb;color:#f20d61;border:1px solid #e5c2eb}progress[_ngcontent-%COMP%]::-webkit-progress-bar{background-color:#e5c2eb}progress[_ngcontent-%COMP%]::-webkit-progress-value{background-color:#f20d61}a[_ngcontent-%COMP%]{font-size:1.25rem;height:100%;display:flex;justify-content:center;align-items:center;background-color:#f20d61;color:#fff;padding:.5rem 1.25rem;border-radius:4px;box-shadow:0 1px 6px #0003;transition:all .3s ease-in-out}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{background-color:#6b069d;box-shadow:0 1px 6px #0006}.expired[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:1.5rem;color:#8d868e}\"]\n    });\n  }\n  return OfferPreviewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}