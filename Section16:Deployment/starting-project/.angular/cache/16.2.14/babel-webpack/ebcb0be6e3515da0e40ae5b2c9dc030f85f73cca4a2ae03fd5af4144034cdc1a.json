{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { AsyncPipe } from '@angular/common';\nimport { Component, signal } from '@angular/core';\nimport { finalize, map, takeUntil, timer } from 'rxjs';\nconst OFFER_TIME = 30;\nexport let OfferPreviewComponent = class OfferPreviewComponent {\n  constructor() {\n    this.offerExpired = signal(false);\n    this.timer = timer(0, 1000).pipe(map(val => {\n      if (!val) {\n        return 100;\n      }\n      return (OFFER_TIME - val) / OFFER_TIME * 100;\n    }), takeUntil(timer((OFFER_TIME + 1) * 1000)), finalize(() => {\n      this.offerExpired.set(true);\n    }));\n    this.remainingTime = this.timer.pipe(map(val => Math.round(val / 100 * OFFER_TIME)));\n  }\n};\nOfferPreviewComponent = __decorate([Component({\n  selector: 'app-offer-preview',\n  standalone: true,\n  imports: [AsyncPipe],\n  templateUrl: './offer-preview.component.html',\n  styleUrl: './offer-preview.component.css'\n})], OfferPreviewComponent);","map":{"version":3,"names":["AsyncPipe","Component","signal","finalize","map","takeUntil","timer","OFFER_TIME","OfferPreviewComponent","constructor","offerExpired","pipe","val","set","remainingTime","Math","round","__decorate","selector","standalone","imports","templateUrl","styleUrl"],"sources":["/home/lennon/Angular/New Tutorials/Section16:Deployment/starting-project/src/app/offer-preview/offer-preview.component.ts"],"sourcesContent":["import { AsyncPipe } from '@angular/common';\nimport { Component, signal } from '@angular/core';\nimport { finalize, map, takeUntil, timer } from 'rxjs';\n\nconst OFFER_TIME = 30;\n\n@Component({\n  selector: 'app-offer-preview',\n  standalone: true,\n  imports: [AsyncPipe],\n  templateUrl: './offer-preview.component.html',\n  styleUrl: './offer-preview.component.css',\n})\nexport class OfferPreviewComponent {\n  offerExpired = signal(false);\n  timer = timer(0, 1000).pipe(\n    map((val) => {\n      if (!val) {\n        return 100;\n      }\n      return ((OFFER_TIME - val) / OFFER_TIME) * 100;\n    }),\n    takeUntil(timer((OFFER_TIME + 1) * 1000)),\n    finalize(() => {\n      this.offerExpired.set(true);\n    })\n  );\n  remainingTime = this.timer.pipe(\n    map((val) => Math.round((val / 100) * OFFER_TIME))\n  );\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,SAAS,EAAEC,MAAM,QAAQ,eAAe;AACjD,SAASC,QAAQ,EAAEC,GAAG,EAAEC,SAAS,EAAEC,KAAK,QAAQ,MAAM;AAEtD,MAAMC,UAAU,GAAG,EAAE;AASd,WAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAA3BC,YAAA;IACL,KAAAC,YAAY,GAAGR,MAAM,CAAC,KAAK,CAAC;IAC5B,KAAAI,KAAK,GAAGA,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAACK,IAAI,CACzBP,GAAG,CAAEQ,GAAG,IAAI;MACV,IAAI,CAACA,GAAG,EAAE;QACR,OAAO,GAAG;;MAEZ,OAAQ,CAACL,UAAU,GAAGK,GAAG,IAAIL,UAAU,GAAI,GAAG;IAChD,CAAC,CAAC,EACFF,SAAS,CAACC,KAAK,CAAC,CAACC,UAAU,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,EACzCJ,QAAQ,CAAC,MAAK;MACZ,IAAI,CAACO,YAAY,CAACG,GAAG,CAAC,IAAI,CAAC;IAC7B,CAAC,CAAC,CACH;IACD,KAAAC,aAAa,GAAG,IAAI,CAACR,KAAK,CAACK,IAAI,CAC7BP,GAAG,CAAEQ,GAAG,IAAKG,IAAI,CAACC,KAAK,CAAEJ,GAAG,GAAG,GAAG,GAAIL,UAAU,CAAC,CAAC,CACnD;EACH;CAAC;AAjBYC,qBAAqB,GAAAS,UAAA,EAPjChB,SAAS,CAAC;EACTiB,QAAQ,EAAE,mBAAmB;EAC7BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAACpB,SAAS,CAAC;EACpBqB,WAAW,EAAE,gCAAgC;EAC7CC,QAAQ,EAAE;CACX,CAAC,C,EACWd,qBAAqB,CAiBjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}