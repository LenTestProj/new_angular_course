{"ast":null,"code":"import { inject } from '@angular/core';\nimport { RouterLink } from '@angular/router';\nimport { TaskComponent } from './task/task.component';\nimport { TasksService } from './tasks.service';\nimport { CommonModule } from '@angular/common';\nimport { resolveUserName } from '../users/users.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction TasksComponent_ul_3_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelement(1, \"app-task\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const task_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"task\", task_r4);\n  }\n}\nfunction TasksComponent_ul_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, TasksComponent_ul_3_li_1_Template, 2, 1, \"li\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.userTasks);\n  }\n}\nfunction TasksComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"There are no tasks yet. Start adding some!\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    order: a0\n  };\n};\nexport class TasksComponent {\n  constructor() {\n    this.userId = '';\n    this.order = 'desc';\n  }\n  static #_ = this.ɵfac = function TasksComponent_Factory(t) {\n    return new (t || TasksComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TasksComponent,\n    selectors: [[\"app-tasks\"]],\n    inputs: {\n      userTasks: \"userTasks\",\n      userId: \"userId\",\n      order: \"order\"\n    },\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 6,\n    vars: 6,\n    consts: [[\"routerLink\", \"./\", 3, \"queryParams\"], [4, \"ngIf\", \"ngIfElse\"], [\"noTasks\", \"\"], [4, \"ngFor\", \"ngForOf\"], [3, \"task\"]],\n    template: function TasksComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\")(1, \"a\", 0);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(3, TasksComponent_ul_3_Template, 2, 1, \"ul\", 1);\n        i0.ɵɵtemplate(4, TasksComponent_ng_template_4_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(5);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"queryParams\", i0.ɵɵpureFunction1(4, _c0, ctx.order === \"asc\" ? \"desc\" : \"asc\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" Sort \", ctx.order === \"asc\" ? \"Descending\" : \"Ascending\", \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.userTasks.length > 0)(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [TaskComponent, RouterLink, CommonModule, i1.NgForOf, i1.NgIf],\n    styles: [\"a[_ngcontent-%COMP%] {\\n    text-decoration:none;\\n    color:#c6a7ed\\n}\\n\\na[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{\\n    color:#9b79c6\\n}\\n\\nul[_ngcontent-%COMP%] {\\n  list-style: none;\\n  margin: 1rem 0;\\n  padding: 0;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n  max-height: 50vh;\\n  overflow: auto;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGFza3MvdGFza3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLG9CQUFvQjtJQUNwQjtBQUNKOztBQUVBO0lBQ0k7QUFDSjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsVUFBVTtFQUNWLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsU0FBUztFQUNULGdCQUFnQjtFQUNoQixjQUFjO0FBQ2hCIiwic291cmNlc0NvbnRlbnQiOlsiYSB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOm5vbmU7XG4gICAgY29sb3I6I2M2YTdlZFxufVxuXG5hOmhvdmVyLGE6YWN0aXZle1xuICAgIGNvbG9yOiM5Yjc5YzZcbn1cblxudWwge1xuICBsaXN0LXN0eWxlOiBub25lO1xuICBtYXJnaW46IDFyZW0gMDtcbiAgcGFkZGluZzogMDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAxcmVtO1xuICBtYXgtaGVpZ2h0OiA1MHZoO1xuICBvdmVyZmxvdzogYXV0bztcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}\nexport const resolveUserTasks = (activatedRouteSnapshot, routerState) => {\n  const order = activatedRouteSnapshot.queryParams['order'];\n  const tasksService = inject(TasksService);\n  const tasks = tasksService.allTasks().filter(task => task.userId === activatedRouteSnapshot.paramMap.get('userId'));\n  if (order && order === 'asc') {\n    tasks.sort((a, b) => a.id > b.id ? 1 : -1);\n  } else {\n    tasks.sort((a, b) => a.id > b.id ? -1 : 1);\n  }\n  return tasks.length ? tasks : [];\n};\nexport const resolveTitle = (activatedRoute, routerState) => {\n  return resolveUserName(activatedRoute, routerState) + '\\'s Tasks';\n};\nexport const canLeaveEditPage = component => {\n  if (component.submitted) {\n    return true;\n  }\n  if (component.enteredTitle || component.enteredDate || component.enteredSummary) {\n    return window.confirm(\"Do you really want to leave?. You will lose the entered data\");\n  }\n  return true;\n};","map":{"version":3,"names":["inject","RouterLink","TaskComponent","TasksService","CommonModule","resolveUserName","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","task_r4","ɵɵtemplate","TasksComponent_ul_3_li_1_Template","ctx_r0","userTasks","ɵɵtext","TasksComponent","constructor","userId","order","_","_2","selectors","inputs","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","TasksComponent_Template","rf","ctx","TasksComponent_ul_3_Template","TasksComponent_ng_template_4_Template","ɵɵtemplateRefExtractor","ɵɵpureFunction1","_c0","ɵɵtextInterpolate1","length","_r1","i1","NgForOf","NgIf","styles","resolveUserTasks","activatedRouteSnapshot","routerState","queryParams","tasksService","tasks","allTasks","filter","task","paramMap","get","sort","a","b","id","resolveTitle","activatedRoute","canLeaveEditPage","component","submitted","enteredTitle","enteredDate","enteredSummary","window","confirm"],"sources":["/home/lennon/Angular/New Tutorials/Section15:Code_Splitting_Deferrable_Views/starting-project/src/app/tasks/tasks.component.ts","/home/lennon/Angular/New Tutorials/Section15:Code_Splitting_Deferrable_Views/starting-project/src/app/tasks/tasks.component.html"],"sourcesContent":["import {\n    Component,\n    inject,\n    Input,\n  } from '@angular/core';\n  import { CanDeactivateFn, ResolveFn, RouterLink } from '@angular/router';\n  \n  import { TaskComponent } from './task/task.component';\n  import { TasksService } from './tasks.service';\n  import { Task } from './task/task.model';\nimport { CommonModule } from '@angular/common';\nimport { resolveUserName } from '../users/users.component';\nimport { NewTaskComponent } from './new-task/new-task.component';\n  \n  @Component({\n    selector: 'app-tasks',\n    standalone: true,\n    templateUrl: './tasks.component.html',\n    styleUrls: ['./tasks.component.css'],\n    imports: [TaskComponent, RouterLink,CommonModule],\n  })\n  export class TasksComponent {\n    @Input({required:true}) userTasks!:Task[];\n\n    @Input({required:true}) userId:string='';\n\n    @Input({required:true}) order:'asc'|'desc'='desc';\n  }\n  \n  export const resolveUserTasks: ResolveFn<Task[]> = (\n    activatedRouteSnapshot,\n    routerState\n  ) => {\n    const order = activatedRouteSnapshot.queryParams['order'];\n    const tasksService = inject(TasksService);\n    const tasks = tasksService\n      .allTasks()\n      .filter(\n        (task) => task.userId === activatedRouteSnapshot.paramMap.get('userId')\n      );\n  \n    if (order && order === 'asc') {\n      tasks.sort((a, b) => (a.id > b.id ? 1 : -1));\n    } else {\n      tasks.sort((a, b) => (a.id > b.id ? -1 : 1));\n    }\n  \n    return tasks.length ? tasks : [];\n  };\n\n  export const resolveTitle:ResolveFn<string> = (activatedRoute, routerState) =>{\n    return resolveUserName(activatedRoute, routerState) + '\\'s Tasks'\n  } \n\n  export const canLeaveEditPage:CanDeactivateFn<NewTaskComponent>=(component)=>{\n    if(component.submitted){\n        return true;\n    }\n    if(component.enteredTitle || component.enteredDate || component.enteredSummary){\n        return window.confirm(\"Do you really want to leave?. You will lose the entered data\")\n    }\n    return true;\n  }","<p>\n    <a routerLink=\"./\" [queryParams]=\"{order:order=== 'asc'?'desc':'asc'}\">\n        Sort {{order==='asc'?'Descending':'Ascending'}}\n    </a>\n</p>\n\n<ul *ngIf=\"userTasks.length>0; else noTasks\">\n    <li  *ngFor=\"let task of userTasks;\">\n      <app-task [task]=\"task\" />\n    </li>\n</ul>\n\n<ng-template #noTasks>\n    <p>There are no tasks yet. Start adding some!</p>\n  </ng-template>\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}