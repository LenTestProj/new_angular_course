{"ast":null,"code":"import { AsyncPipe, CommonModule } from '@angular/common';\nimport { signal } from '@angular/core';\nimport { finalize, map, takeUntil, timer } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction OfferPreviewComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Special Offer!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"Act quick and save your spot for just $99.99!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 2);\n    i0.ɵɵelement(6, \"progress\", 3);\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"async\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"value\", i0.ɵɵpipeBind1(7, 2, ctx_r0.timer));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Offer expires in \", i0.ɵɵpipeBind1(10, 4, ctx_r0.remainingTime), \"s\");\n  }\n}\nfunction OfferPreviewComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 4);\n    i0.ɵɵtext(1, \"Unfortunately, the offer expired!\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst OFFER_TIME = 30;\nexport class OfferPreviewComponent {\n  constructor() {\n    this.offerExpired = signal(false);\n    this.timer = timer(0, 1000).pipe(map(val => {\n      if (!val) {\n        return 100;\n      }\n      return (OFFER_TIME - val) / OFFER_TIME * 100;\n    }), takeUntil(timer((OFFER_TIME + 1) * 1000)), finalize(() => {\n      this.offerExpired.set(true);\n    }));\n    this.remainingTime = this.timer.pipe(map(val => Math.round(val / 100 * OFFER_TIME)));\n  }\n  static #_ = this.ɵfac = function OfferPreviewComponent_Factory(t) {\n    return new (t || OfferPreviewComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OfferPreviewComponent,\n    selectors: [[\"app-offer-preview\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 8,\n    vars: 2,\n    consts: [[4, \"ngIf\", \"ngIfElse\"], [\"expired\", \"\"], [1, \"offer-progress\"], [\"max\", \"100\", 3, \"value\"], [1, \"expired\"]],\n    template: function OfferPreviewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"article\")(1, \"div\");\n        i0.ɵɵtemplate(2, OfferPreviewComponent_div_2_Template, 11, 6, \"div\", 0);\n        i0.ɵɵelementStart(3, \"p\")(4, \"a\");\n        i0.ɵɵtext(5, \"View Offer\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(6, OfferPreviewComponent_ng_template_6_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(7);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.offerExpired)(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [AsyncPipe, CommonModule, i1.NgIf],\n    styles: [\"article[_ngcontent-%COMP%] {\\n  max-width: 50rem;\\n  margin: 4rem auto;\\n  padding: 2rem;\\n  background-color: #f3d5f9;\\n  color: #322f32;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\nh2[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n\\np[_ngcontent-%COMP%] {\\n  margin: 0.25rem 0;\\n}\\n\\n.offer-progress[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 0.85rem;\\n  color: #666166;\\n}\\n\\nprogress[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 1rem;\\n  margin: 0;\\n  border-radius: 4px;\\n  background: #e5c2eb;\\n  color: #f20d61;\\n  border: 1px solid #e5c2eb;\\n}\\n\\nprogress[_ngcontent-%COMP%]::-webkit-progress-bar {\\n  background-color: #e5c2eb;\\n}\\n\\nprogress[_ngcontent-%COMP%]::-webkit-progress-value {\\n  background-color: #f20d61;\\n}\\n\\na[_ngcontent-%COMP%] {\\n  font-size: 1.25rem;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: #f20d61;\\n  color: white;\\n  padding: 0.5rem 1.25rem;\\n  border-radius: 4px;\\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\\n  transition: all 0.3s ease-in-out;\\n}\\n\\na[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus {\\n  background-color: #6b069d;\\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.4);\\n}\\n\\n.expired[_ngcontent-%COMP%] {\\n  flex: 1;\\n  text-align: center;\\n  font-size: 1.5rem;\\n  color: #8d868e;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvb2ZmZXItcHJldmlldy9vZmZlci1wcmV2aWV3LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsaUJBQWlCO0VBQ2pCLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsY0FBYztFQUNkLGFBQWE7RUFDYiw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxTQUFTO0FBQ1g7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxTQUFTO0VBQ1Qsa0JBQWtCO0VBQ2xCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLFNBQVM7RUFDVCxrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osdUJBQXVCO0VBQ3ZCLGtCQUFrQjtFQUNsQix3Q0FBd0M7RUFDeEMsZ0NBQWdDO0FBQ2xDOztBQUVBOztFQUVFLHlCQUF5QjtFQUN6Qix3Q0FBd0M7QUFDMUM7O0FBRUE7RUFDRSxPQUFPO0VBQ1Asa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixjQUFjO0FBQ2hCIiwic291cmNlc0NvbnRlbnQiOlsiYXJ0aWNsZSB7XG4gIG1heC13aWR0aDogNTByZW07XG4gIG1hcmdpbjogNHJlbSBhdXRvO1xuICBwYWRkaW5nOiAycmVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNkNWY5O1xuICBjb2xvcjogIzMyMmYzMjtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG5oMiB7XG4gIG1hcmdpbjogMDtcbn1cblxucCB7XG4gIG1hcmdpbjogMC4yNXJlbSAwO1xufVxuXG4ub2ZmZXItcHJvZ3Jlc3MgcCB7XG4gIG1hcmdpbjogMDtcbiAgZm9udC1zaXplOiAwLjg1cmVtO1xuICBjb2xvcjogIzY2NjE2Njtcbn1cblxucHJvZ3Jlc3Mge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxcmVtO1xuICBtYXJnaW46IDA7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYmFja2dyb3VuZDogI2U1YzJlYjtcbiAgY29sb3I6ICNmMjBkNjE7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlNWMyZWI7XG59XG5cbnByb2dyZXNzOjotd2Via2l0LXByb2dyZXNzLWJhciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlNWMyZWI7XG59XG5cbnByb2dyZXNzOjotd2Via2l0LXByb2dyZXNzLXZhbHVlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YyMGQ2MTtcbn1cblxuYSB7XG4gIGZvbnQtc2l6ZTogMS4yNXJlbTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YyMGQ2MTtcbiAgY29sb3I6IHdoaXRlO1xuICBwYWRkaW5nOiAwLjVyZW0gMS4yNXJlbTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBib3gtc2hhZG93OiAwIDFweCA2cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlLWluLW91dDtcbn1cblxuYTpob3ZlcixcbmE6Zm9jdXMge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmIwNjlkO1xuICBib3gtc2hhZG93OiAwIDFweCA2cHggcmdiYSgwLCAwLCAwLCAwLjQpO1xufVxuXG4uZXhwaXJlZCB7XG4gIGZsZXg6IDE7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxLjVyZW07XG4gIGNvbG9yOiAjOGQ4NjhlO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["AsyncPipe","CommonModule","signal","finalize","map","takeUntil","timer","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty","ɵɵpipeBind1","ctx_r0","ɵɵtextInterpolate1","remainingTime","OFFER_TIME","OfferPreviewComponent","constructor","offerExpired","pipe","val","set","Math","round","_","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","OfferPreviewComponent_Template","rf","ctx","ɵɵtemplate","OfferPreviewComponent_div_2_Template","OfferPreviewComponent_ng_template_6_Template","ɵɵtemplateRefExtractor","_r1","i1","NgIf","styles"],"sources":["/home/lennon/Angular/New Tutorials/Section15:Code_Splitting_Deferrable_Views/starting-project-one/src/app/offer-preview/offer-preview.component.ts","/home/lennon/Angular/New Tutorials/Section15:Code_Splitting_Deferrable_Views/starting-project-one/src/app/offer-preview/offer-preview.component.html"],"sourcesContent":["import { AsyncPipe, CommonModule } from '@angular/common';\nimport { Component, signal } from '@angular/core';\nimport { finalize, map, takeUntil, timer } from 'rxjs';\n\nconst OFFER_TIME = 30;\n\n@Component({\n  selector: 'app-offer-preview',\n  standalone: true,\n  imports: [AsyncPipe,CommonModule],\n  templateUrl: './offer-preview.component.html',\n  styleUrls: ['./offer-preview.component.css'],\n})\nexport class OfferPreviewComponent {\n  offerExpired = signal(false);\n  timer = timer(0, 1000).pipe(\n    map((val) => {\n      if (!val) {\n        return 100;\n      }\n      return ((OFFER_TIME - val) / OFFER_TIME) * 100;\n    }),\n    takeUntil(timer((OFFER_TIME + 1) * 1000)),\n    finalize(() => {\n      this.offerExpired.set(true);\n    })\n  );\n  remainingTime = this.timer.pipe(\n    map((val) => Math.round((val / 100) * OFFER_TIME))\n  );\n}\n","<article>\n    <div>\n        <div *ngIf=\"!offerExpired; else expired\">\n            <h2>Special Offer!</h2>\n            <p>Act quick and save your spot for just $99.99!</p>\n            <div class=\"offer-progress\">\n              <progress [value]=\"timer | async\" max=\"100\"></progress>\n              <p>Offer expires in {{ remainingTime | async }}s</p>\n            </div>\n          </div>\n          <p>\n            <a>View Offer</a>\n          </p>\n    </div>\n    <ng-template #expired>\n        <p class=\"expired\">Unfortunately, the offer expired!</p>\n    </ng-template>\n</article>\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,YAAY,QAAQ,iBAAiB;AACzD,SAAoBC,MAAM,QAAQ,eAAe;AACjD,SAASC,QAAQ,EAAEC,GAAG,EAAEC,SAAS,EAAEC,KAAK,QAAQ,MAAM;;;;;ICA9CC,EAAA,CAAAC,cAAA,UAAyC;IACjCD,EAAA,CAAAE,MAAA,qBAAc;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACvBH,EAAA,CAAAC,cAAA,QAAG;IAAAD,EAAA,CAAAE,MAAA,oDAA6C;IAAAF,EAAA,CAAAG,YAAA,EAAI;IACpDH,EAAA,CAAAC,cAAA,aAA4B;IAC1BD,EAAA,CAAAI,SAAA,kBAAuD;;IACvDJ,EAAA,CAAAC,cAAA,QAAG;IAAAD,EAAA,CAAAE,MAAA,GAA6C;;IAAAF,EAAA,CAAAG,YAAA,EAAI;;;;IAD1CH,EAAA,CAAAK,SAAA,GAAuB;IAAvBL,EAAA,CAAAM,UAAA,UAAAN,EAAA,CAAAO,WAAA,OAAAC,MAAA,CAAAT,KAAA,EAAuB;IAC9BC,EAAA,CAAAK,SAAA,GAA6C;IAA7CL,EAAA,CAAAS,kBAAA,sBAAAT,EAAA,CAAAO,WAAA,QAAAC,MAAA,CAAAE,aAAA,OAA6C;;;;;IAQtDV,EAAA,CAAAC,cAAA,WAAmB;IAAAD,EAAA,CAAAE,MAAA,wCAAiC;IAAAF,EAAA,CAAAG,YAAA,EAAI;;;ADXhE,MAAMQ,UAAU,GAAG,EAAE;AASrB,OAAM,MAAOC,qBAAqB;EAPlCC,YAAA;IAQE,KAAAC,YAAY,GAAGnB,MAAM,CAAC,KAAK,CAAC;IAC5B,KAAAI,KAAK,GAAGA,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAACgB,IAAI,CACzBlB,GAAG,CAAEmB,GAAG,IAAI;MACV,IAAI,CAACA,GAAG,EAAE;QACR,OAAO,GAAG;;MAEZ,OAAQ,CAACL,UAAU,GAAGK,GAAG,IAAIL,UAAU,GAAI,GAAG;IAChD,CAAC,CAAC,EACFb,SAAS,CAACC,KAAK,CAAC,CAACY,UAAU,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,EACzCf,QAAQ,CAAC,MAAK;MACZ,IAAI,CAACkB,YAAY,CAACG,GAAG,CAAC,IAAI,CAAC;IAC7B,CAAC,CAAC,CACH;IACD,KAAAP,aAAa,GAAG,IAAI,CAACX,KAAK,CAACgB,IAAI,CAC7BlB,GAAG,CAAEmB,GAAG,IAAKE,IAAI,CAACC,KAAK,CAAEH,GAAG,GAAG,GAAG,GAAIL,UAAU,CAAC,CAAC,CACnD;;EACF,QAAAS,CAAA,G;qBAjBYR,qBAAqB;EAAA;EAAA,QAAAS,EAAA,G;UAArBT,qBAAqB;IAAAU,SAAA;IAAAC,UAAA;IAAAC,QAAA,GAAAxB,EAAA,CAAAyB,mBAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,+BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCblC/B,EAAA,CAAAC,cAAA,cAAS;QAEDD,EAAA,CAAAiC,UAAA,IAAAC,oCAAA,kBAOQ;QACNlC,EAAA,CAAAC,cAAA,QAAG;QACED,EAAA,CAAAE,MAAA,iBAAU;QAAAF,EAAA,CAAAG,YAAA,EAAI;QAGzBH,EAAA,CAAAiC,UAAA,IAAAE,4CAAA,gCAAAnC,EAAA,CAAAoC,sBAAA,CAEc;QAClBpC,EAAA,CAAAG,YAAA,EAAU;;;;QAfIH,EAAA,CAAAK,SAAA,GAAqB;QAArBL,EAAA,CAAAM,UAAA,UAAA0B,GAAA,CAAAlB,YAAA,CAAqB,aAAAuB,GAAA;;;mBDOvB5C,SAAS,EAACC,YAAY,EAAA4C,EAAA,CAAAC,IAAA;IAAAC,MAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}