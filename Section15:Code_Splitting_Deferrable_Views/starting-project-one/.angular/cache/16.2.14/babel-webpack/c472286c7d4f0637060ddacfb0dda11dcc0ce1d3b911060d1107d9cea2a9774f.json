{"ast":null,"code":"import { DestroyRef, inject } from '@angular/core';\nimport { TaskComponent } from './task/task.component';\nimport { CommonModule } from '@angular/common';\nimport { TasksService } from './tasks.service';\nimport { ActivatedRoute, RouterLink } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction TasksComponent_ul_3_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelement(1, \"app-task\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const task_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"task\", task_r4);\n  }\n}\nfunction TasksComponent_ul_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, TasksComponent_ul_3_li_1_Template, 2, 1, \"li\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.userTasks)(\"ngForElse\", _r1);\n  }\n}\nfunction TasksComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"There are no tasks yet. Start adding some!\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    order: a0\n  };\n};\nexport class TasksComponent {\n  constructor() {\n    this.userId = '';\n    // @Input() order?:\"asc\"|\"desc\";\n    this.order = 'desc';\n    this.userTasks = [];\n    this.tasksService = inject(TasksService);\n    this.destroyRef = inject(DestroyRef);\n    this.activatedRoute = inject(ActivatedRoute);\n  }\n  ngOnInit() {\n    const subscription = this.activatedRoute.queryParams.subscribe({\n      next: params => {\n        this.order = params['order'];\n        this.setUserTasks();\n      }\n    });\n    this.destroyRef.onDestroy(() => {\n      subscription.unsubscribe();\n    });\n  }\n  ngOnChanges(changes) {\n    this.setUserTasks();\n  }\n  setUserTasks() {\n    this.userTasks = this.tasksService.allTasks().filter(task => task.userId === this.userId).sort((a, b) => {\n      if (this.order === 'desc') {\n        return a.id > b.id ? -1 : 1;\n      } else {\n        return a.id > b.id ? 1 : -1;\n      }\n    });\n  }\n  static #_ = this.ɵfac = function TasksComponent_Factory(t) {\n    return new (t || TasksComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TasksComponent,\n    selectors: [[\"app-tasks\"]],\n    inputs: {\n      userId: \"userId\"\n    },\n    standalone: true,\n    features: [i0.ɵɵNgOnChangesFeature, i0.ɵɵStandaloneFeature],\n    decls: 6,\n    vars: 6,\n    consts: [[\"routerLink\", \"./\", 3, \"queryParams\"], [4, \"ngIf\", \"ngIfElse\"], [\"noTasks\", \"\"], [4, \"ngFor\", \"ngForOf\", \"ngForElse\"], [3, \"task\"]],\n    template: function TasksComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\")(1, \"a\", 0);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(3, TasksComponent_ul_3_Template, 2, 2, \"ul\", 1);\n        i0.ɵɵtemplate(4, TasksComponent_ng_template_4_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(5);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"queryParams\", i0.ɵɵpureFunction1(4, _c0, ctx.order === \"asc\" ? \"desc\" : \"asc\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" Sort \", ctx.order === \"asc\" ? \"Descending\" : \"Ascending\", \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.userTasks.length > 0)(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [TaskComponent, CommonModule, i1.NgForOf, i1.NgIf, RouterLink],\n    styles: [\"a[_ngcontent-%COMP%] {\\n    text-decoration:none;\\n    color:#c6a7ed\\n}\\n\\na[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{\\n    color:#9b79c6\\n}\\n\\nul[_ngcontent-%COMP%] {\\n  list-style: none;\\n  margin: 1rem 0;\\n  padding: 0;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n  max-height: 50vh;\\n  overflow: auto;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGFza3MvdGFza3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLG9CQUFvQjtJQUNwQjtBQUNKOztBQUVBO0lBQ0k7QUFDSjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsVUFBVTtFQUNWLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsU0FBUztFQUNULGdCQUFnQjtFQUNoQixjQUFjO0FBQ2hCIiwic291cmNlc0NvbnRlbnQiOlsiYSB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOm5vbmU7XG4gICAgY29sb3I6I2M2YTdlZFxufVxuXG5hOmhvdmVyLGE6YWN0aXZle1xuICAgIGNvbG9yOiM5Yjc5YzZcbn1cblxudWwge1xuICBsaXN0LXN0eWxlOiBub25lO1xuICBtYXJnaW46IDFyZW0gMDtcbiAgcGFkZGluZzogMDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAxcmVtO1xuICBtYXgtaGVpZ2h0OiA1MHZoO1xuICBvdmVyZmxvdzogYXV0bztcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["DestroyRef","inject","TaskComponent","CommonModule","TasksService","ActivatedRoute","RouterLink","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","task_r4","ɵɵtemplate","TasksComponent_ul_3_li_1_Template","ctx_r0","userTasks","_r1","ɵɵtext","TasksComponent","constructor","userId","order","tasksService","destroyRef","activatedRoute","ngOnInit","subscription","queryParams","subscribe","next","params","setUserTasks","onDestroy","unsubscribe","ngOnChanges","changes","allTasks","filter","task","sort","a","b","id","_","_2","selectors","inputs","standalone","features","ɵɵNgOnChangesFeature","ɵɵStandaloneFeature","decls","vars","consts","template","TasksComponent_Template","rf","ctx","TasksComponent_ul_3_Template","TasksComponent_ng_template_4_Template","ɵɵtemplateRefExtractor","ɵɵpureFunction1","_c0","ɵɵtextInterpolate1","length","i1","NgForOf","NgIf","styles"],"sources":["/home/lennon/Angular/New Tutorials/Section14:Routing_Multi_Page_app/starting-project/src/app/tasks/tasks.component.ts","/home/lennon/Angular/New Tutorials/Section14:Routing_Multi_Page_app/starting-project/src/app/tasks/tasks.component.html"],"sourcesContent":["import { Component, DestroyRef, Input, OnChanges, OnInit, SimpleChanges, inject, signal } from '@angular/core';\n\nimport { TaskComponent } from './task/task.component';\nimport { Task } from './task/task.model';\nimport { CommonModule } from '@angular/common';\nimport { TasksService } from './tasks.service';\nimport { ActivatedRoute, RouterLink } from '@angular/router';\n\n@Component({\n  selector: 'app-tasks',\n  standalone: true,\n  templateUrl: './tasks.component.html',\n  styleUrls: ['./tasks.component.css'],\n  imports: [TaskComponent,CommonModule,RouterLink],\n})\nexport class TasksComponent implements OnChanges,OnInit{\n    \n    @Input() userId:string='';\n    // @Input() order?:\"asc\"|\"desc\";\n    order:'asc'|'desc'='desc';\n    userTasks: Task[] = [];\n    private tasksService = inject(TasksService);\n    private destroyRef=inject(DestroyRef);\n\n    private activatedRoute = inject(ActivatedRoute);\n\n    ngOnInit(): void {\n        const subscription = this.activatedRoute.queryParams.subscribe({next:params=>{\n            this.order = params['order'];\n            this.setUserTasks()\n        }});\n\n        this.destroyRef.onDestroy(()=>{\n            subscription.unsubscribe()\n        })\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.setUserTasks();\n    }\n\n    setUserTasks(){\n        this.userTasks = this.tasksService.allTasks().filter(task => task.userId === this.userId).sort((a,b)=>{\n            if(this.order==='desc'){\n                return a.id>b.id?-1:1\n            }\n            else{\n                return a.id>b.id?1:-1\n            }\n        });\n    }\n\n}\n","<p>\n    <a routerLink=\"./\" [queryParams]=\"{order:order=== 'asc'?'desc':'asc'}\">\n        Sort {{order==='asc'?'Descending':'Ascending'}}\n    </a>\n</p>\n\n<ul *ngIf=\"userTasks.length>0; else noTasks\">\n    <li  *ngFor=\"let task of userTasks; else noTasks\">\n      <app-task [task]=\"task\" />\n    </li>\n</ul>\n\n<ng-template #noTasks>\n    <p>There are no tasks yet. Start adding some!</p>\n  </ng-template>\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}