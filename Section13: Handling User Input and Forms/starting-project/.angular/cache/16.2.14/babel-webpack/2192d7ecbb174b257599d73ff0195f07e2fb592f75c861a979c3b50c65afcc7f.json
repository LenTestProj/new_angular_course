{"ast":null,"code":"import { inject } from '@angular/core';\nimport { AuthService } from './auth.service';\nimport * as i0 from \"@angular/core\";\nexport class AuthDirective {\n  constructor() {\n    this.authService = inject(AuthService);\n  }\n  ngOnInit() {\n    this.updateVisibility();\n    // Subscribe to permission changes\n  }\n\n  ngOnChanges(changes) {\n    console.log(\"ng onchanges\");\n    if (changes[\"userType\"]) {\n      this.updateVisibility();\n    }\n  }\n  updateVisibility() {\n    if (this.authService.activePermission === this.userType) {\n      console.log(\"SHOW ELEMENT\");\n    } else {\n      console.log(\"DO NOT SHOW ELEMENT\");\n    }\n  }\n  static #_ = this.ɵfac = function AuthDirective_Factory(t) {\n    return new (t || AuthDirective)();\n  };\n  static #_2 = this.ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n    type: AuthDirective,\n    selectors: [[\"\", \"appAuth\", \"\"]],\n    inputs: {\n      userType: [\"appAuth\", \"userType\"]\n    },\n    standalone: true,\n    features: [i0.ɵɵNgOnChangesFeature]\n  });\n}","map":{"version":3,"names":["inject","AuthService","AuthDirective","constructor","authService","ngOnInit","updateVisibility","ngOnChanges","changes","console","log","activePermission","userType","_","_2","selectors","inputs","standalone","features","i0","ɵɵNgOnChangesFeature"],"sources":["/home/lennon/Angular/New Tutorials/Section7:Enhancing_elements_deepDive/starting-project/src/app/auth/auth.directive.ts"],"sourcesContent":["import { Directive, Input, OnChanges, OnInit, SimpleChanges, inject } from '@angular/core';\nimport { Permission } from './auth.model';\nimport { AuthService } from './auth.service';\n\n@Directive({\n  selector: '[appAuth]',\n  standalone:true\n})\nexport class AuthDirective implements OnInit,OnChanges{\n    @Input({required:true,alias:\"appAuth\"}) userType!:Permission;\n    private authService = inject(AuthService)\n\n    constructor() { \n        \n    }\n\n    ngOnInit(): void {\n           this.updateVisibility();\n           // Subscribe to permission changes\n        \n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        console.log(\"ng onchanges\")\n        if(changes[\"userType\"]){\n            this.updateVisibility()\n        }\n    }\n\n    private updateVisibility():void{\n        if(this.authService.activePermission === this.userType){\n            console.log(\"SHOW ELEMENT\")\n        }\n        else{\n            console.log(\"DO NOT SHOW ELEMENT\");\n        }\n    }\n\n}\n"],"mappings":"AAAA,SAA6DA,MAAM,QAAQ,eAAe;AAE1F,SAASC,WAAW,QAAQ,gBAAgB;;AAM5C,OAAM,MAAOC,aAAa;EAItBC,YAAA;IAFQ,KAAAC,WAAW,GAAGJ,MAAM,CAACC,WAAW,CAAC;EAIzC;EAEAI,QAAQA,CAAA;IACD,IAAI,CAACC,gBAAgB,EAAE;IACvB;EAEP;;EAEAC,WAAWA,CAACC,OAAsB;IAC9BC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;IAC3B,IAAGF,OAAO,CAAC,UAAU,CAAC,EAAC;MACnB,IAAI,CAACF,gBAAgB,EAAE;;EAE/B;EAEQA,gBAAgBA,CAAA;IACpB,IAAG,IAAI,CAACF,WAAW,CAACO,gBAAgB,KAAK,IAAI,CAACC,QAAQ,EAAC;MACnDH,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;KAC9B,MACG;MACAD,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;;EAE1C;EAAC,QAAAG,CAAA,G;qBA5BQX,aAAa;EAAA;EAAA,QAAAY,EAAA,G;UAAbZ,aAAa;IAAAa,SAAA;IAAAC,MAAA;MAAAJ,QAAA;IAAA;IAAAK,UAAA;IAAAC,QAAA,GAAAC,EAAA,CAAAC,oBAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}